# 文件系统

> 开发环境：
>
> - JDK 11+，IntelliJ IDEA
> - 导入外部包：
>   - fastjson
>   - javafx

## 一、  题目要求

设计和实现一个多用户多目录的文件系统, 要求如下：

(1) 可以模拟多用户，多个用户可以操作不同的文件。

(2) 可以实现多目录管理，包括目录的增删改查。

(3) 可以实现文件的增删改查、属性管理。

(4) 考虑用户、目录、文件的权限管理。

(5) 完成文件存储空间管理，包括空闲块管理、Inode节点等内容。

(6) 编写测试代码，测试对文件的相关操作：建立，读写等

 

## 二、 设计思路

用单个文件模拟一个磁盘，以JSON格式保存其相关信息。文件数据由数据块存储，目录信息由目录块存储，每一个用户用一个用户块存储。所有块由一个超级块链接管理。

在本文件管理系统中使用成组链接法管理空闲盘块。所有的数据块都由索引节点链接控制，索引节点中存储了数据块的地址以及其中数据的详细信息。

用户分为普通用户和管理员root，管理员有操作所有文件及目录的权限，而普通用户只能操作自己创建的文件和目录。用户能进行的操作有：创建、删除文件，创建、删除文件夹，编辑文件内容。

主函数有两个，分别为带界面(main2)和无界面(main1)的版本。在无界面的文件管理系统中，通过给定的指令集（模仿linux系统指令）进行相关操作，在有界面的文件管理系统中，通过对界面中的文件目录树的点击进行相关操作。

由于本文件系统是小组课程设计中的一部分，所以提供一个传入参数为用户名的接口，若传入的用户名不在已有用户中则创建一个用户，传入“root”时则为管理员。